<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Canvas Graphview Demo</title>
    <script type="text/javascript" src="/javascripts/fvlogger/logger.js"></script>
    <link rel="stylesheet" type="text/css" href="/javascripts/fvlogger/logger.css"/>
    <script type="text/javascript" src="readable.js"></script>
    <script type="text/javascript" src="inline-console.js"></script>
    <script type="text/javascript" src="/javascripts/prototype.js"></script>
    <script type="text/javascript" src="../openlaszlo/json/json.js"></script>
    <script type="text/javascript" src="graphview.js"></script>
    <script type="text/javascript" src="textcanvas.js"></script>
    <script type="text/javascript" src="html-graphview.js"></script>
  </head>
  <body>
    <div id="status"></div>
    <div id="graph"></div>
    
    <div id="xinline-console"></div>
    <a href="#" onclick="eraseLog(); return false">clear</a>
    <div id="fvlogger"></div>
    
    <script type="text/javascript">
      var graphView = new HTMLGraphView(document.getElementById('graph'));
      function setStatus(msg) {document.getElementById('status').innerText = msg}      
      graphView.onFailure = function() {setStatus('failure')}
      graphView.onInvalid = function() {setStatus('invalid')}
      function requestGraph(fname) {
        setStatus('');
        graphView.requestGraph('graphserver.py?filename='+fname); //todo: encode
      }
      requestGraph('awilliams.dot');
    </script>

  </body>
</html>

